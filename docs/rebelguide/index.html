<!--// ai-gen start (Claude-Sonnet 4, 3), (ChatGPT-5.1 Auto, 3), (Gemini-Thinking with 3 PRO, 3)-->

<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--<title>Rebel Reality | AR Campus Navigation</title>-->
    <title>Rebel Reality - Rebel Guide</title>
    <link rel="icon" type="image/png" href="../images/logo.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Markdown Parser for AI responses -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        unlvRed: '#B10202',
                        unlvDark: '#2D2D2D',
                        unlvGray: '#E5E7EB',
                        unlvBlack: '#000000',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        
        /* Custom Animations */
        .fade-in-up {
            animation: fadeInUp 0.8s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body class="font-sans text-gray-800 bg-gray-50 antialiased">

    <!-- Navigation -->
    <nav class="fixed w-full z-50 bg-white/90 backdrop-blur-md border-b border-gray-200 transition-all duration-300" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <a href="https://rebelreality.app" class="flex items-center space-x-3 hover:opacity-90 transition">
                    <div class="w-10 h-10 rounded-lg overflow-hidden flex items-center justify-center ">
                        <img src="../images/logo.png" alt="Rebel Reality logo" class="w-full h-full object-contain">
                    </div>
                    <span class="font-bold text-xl tracking-tight text-gray-900">REBEL REALITY</span>
                </a>
                
                <!-- Desktop Menu -->
                <div class="flex space-x-8 items-center">
                    <a href="https://rebelreality.app" class="text-gray-600 hover:text-unlvRed font-medium transition">Home</a>
                </div>
    </nav>
    
    <!-- AI Demo Section -->
    <section id="ai-demo" class="pt-32 pb-10 bg-gray-900 text-white relative overflow-hidden">
        <!-- Decor -->
        <div class="absolute top-0 left-0 w-full h-full overflow-hidden z-0 opacity-20">
            <div class="absolute -top-20 -left-20 w-96 h-96 bg-blue-500 rounded-full blur-3xl"></div>
            <div class="absolute bottom-0 right-0 w-96 h-96 bg-unlvRed rounded-full blur-3xl"></div>
        </div>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="text-center mb-12">
                <!--<span class="bg-blue-600 text-white text-xs font-bold px-3 py-1 rounded-full mb-4 inline-block">NEW FEATURE</span>-->
                <h2 class="text-3xl font-bold mb-4">Try Rebel Guide today! ‚ú®</h2>
                <p class="text-gray-400 max-w-3xl mx-auto">
                    Our smart assistant helps you plan routes, find amenities, and discover areas on campus.
                </p>
                <p class="text-gray-400 max-w-3xl mx-auto">
                    Try it out below, no download required!
                </p>
            </div>

            <div class="max-w-3xl mx-auto bg-gray-800 rounded-2xl shadow-2xl overflow-hidden border border-gray-700">
                <!-- Chat Interface Header -->
                <div class="bg-gray-700 p-4 flex items-center border-b border-gray-600">
                    <div class="w-10 h-10 rounded-full flex items-center justify-center text-white font-bold mr-3">
                        <img src="../images/logo.png" alt="Rebel Guide" class="w-8 h-8 object-contain">
                    </div>
                    <div>
                        <div class="font-bold text-sm">Rebel Guide</div>
                        <div class="text-xs text-green-400 flex items-center"><span class="w-2 h-2 bg-green-400 rounded-full mr-1"></span> Online</div>
                    </div>
                </div>

                <!-- Chat Area -->
                <div id="chat-display" class="h-80 overflow-y-auto p-6 bg-gray-800 space-y-4">
                    <!-- AI Welcome Message -->
                    <div class="flex items-start">
                        <div class="w-8 h-8 rounded-full flex-shrink-0 flex items-center justify-center text-xs mt-1">
                            <img src="../images/logo.png" alt="Rebel Guide" class="w-6 h-6 object-contain">
                        </div>
                        <div class="ml-3 bg-gray-700 p-3 rounded-r-xl rounded-bl-xl text-sm text-gray-200 shadow-sm max-w-[80%]">
                            Hello! I'm Rebel Guide. Ask me for directions!
                        </div>
                    </div>
                </div>

                <!-- Input Area -->
                <div class="p-4 bg-gray-900 border-t border-gray-700">
                    <div class="flex gap-2">
                        <input type="text" id="user-input" placeholder="E.g., How do I get to the AEB from the Student Union?" 
                            class="flex-1 bg-gray-800 text-white border border-gray-600 rounded-full px-5 py-3 focus:outline-none focus:border-blue-500 text-sm"
                            onkeypress="handleEnter(event)">
                        <button onclick="sendMessage()" class="bg-gradient-to-r from-unlvRed to-red-600 text-white px-6 py-2 rounded-full font-bold hover:from-red-700 hover:to-red-800 transition flex items-center gap-2 shadow-lg shadow-red-900/50">
                            Ask Rebel Guide
                        </button>
                    </div>
                    <div class="text-center mt-2">
                         <!--<p class="text-[10px] text-gray-500">Powered by Google Gemiini Cloud API. Responses may vary.</p>-->
                    </div>
                </div>
            </div>
            
            <!-- Pre-made prompts -->
            <div class="flex flex-wrap justify-center gap-3 mt-6">
                <button onclick="fillPrompt('Where is the nearest coffee to the Engineering building?')" class="text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 px-4 py-2 rounded-full border border-gray-700 transition">
                    ‚òï Coffee near AEB?
                </button>
                <button onclick="fillPrompt('I have a class in TBE then FDH. Best route?')" class="text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 px-4 py-2 rounded-full border border-gray-700 transition">
                    üó∫Ô∏è Route: TBE to FDH
                </button>
                <button onclick="fillPrompt('What accessibility features does the app have?')" class="text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 px-4 py-2 rounded-full border border-gray-700 transition">
                    ‚ôø Accessibility Info
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-black text-white py-12 border-t border-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-8 mb-8">
                <div class="col-span-1 md:col-span-2">
                    <div class="flex items-center space-x-2 mb-4">
                        <div class="w-10 h-10 rounded-lg overflow-hidden flex items-center justify-center">
                            <img src="../images/logo.png" alt="Rebel Reality logo" class="w-full h-full object-contain">
                        </div>
                        <span class="font-bold text-2xl">REBEL REALITY</span>
                    </div>
                    <p class="text-gray-400 text-sm max-w-xs">Making campus navigation intuitive and accessible for all students.</p>
                </div>
            </div>
            
            <div class="border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-500 text-xs mb-4 md:mb-0">&copy; 2025 Rebel Reality. All Rights Reserved.</p>
                <div class="flex space-x-4">
                    <a class="text-gray-500 text-xs"> rebelreality.app/rebelguide </a>
                </div>
            </div>
        </div>
    </footer>

    <script>

        // Smooth Scrolling
        function scrollToSection(id) {
            const element = document.getElementById(id);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Navbar Scroll Effect
        window.addEventListener('scroll', function() {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('shadow-md');
                navbar.classList.replace('h-20', 'h-16');
            } else {
                navbar.classList.remove('shadow-md');
                navbar.classList.replace('h-16', 'h-20');
            }
        });

        // --- Gemini API Integration ---
        const apiKey = "AIzaSyCDSZQQi4_OJYi9tfZhDacqLpb1wu7QOo0"; // API Key provided by environment

        function handleEnter(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function fillPrompt(text) {
            const input = document.getElementById('user-input');
            input.value = text;
            sendMessage();
        }

        async function sendMessage() {
            const inputField = document.getElementById('user-input');
            const userText = inputField.value.trim();
            const chatDisplay = document.getElementById('chat-display');

            if (!userText) return;

            // Add User Message
            const userDiv = document.createElement('div');
            userDiv.className = 'flex items-start justify-end';
            userDiv.innerHTML = `
                <div class="bg-blue-600 p-3 rounded-l-xl rounded-br-xl text-sm text-white shadow-md max-w-[80%]">
                    ${userText}
                </div>
                <div class="w-8 h-8 rounded-full bg-gray-500 flex-shrink-0 flex items-center justify-center text-xs ml-3 mt-1">
                    <i class="fa-solid fa-user"></i>
                </div>
            `;
            chatDisplay.appendChild(userDiv);
            
            // Clear input and scroll
            inputField.value = '';
            chatDisplay.scrollTop = chatDisplay.scrollHeight;

            // Add Loading Indicator
            const loadingDiv = document.createElement('div');
            loadingDiv.className = 'flex items-start';
            loadingDiv.id = 'loading-indicator';
            loadingDiv.innerHTML = `
                <div class="w-8 h-8 rounded-full bg-gradient-to-tr from-blue-500 to-purple-500 flex-shrink-0 flex items-center justify-center text-xs mt-1">
                    <i class="fa-solid fa-robot"></i>
                </div>
                <div class="ml-3 bg-gray-700 p-3 rounded-r-xl rounded-bl-xl text-sm text-gray-200 shadow-sm flex gap-1 items-center h-10">
                   <span class="w-1.5 h-1.5 bg-gray-400 rounded-full typing-dot"></span>
                   <span class="w-1.5 h-1.5 bg-gray-400 rounded-full typing-dot"></span>
                   <span class="w-1.5 h-1.5 bg-gray-400 rounded-full typing-dot"></span>
                </div>
            `;
            chatDisplay.appendChild(loadingDiv);
            chatDisplay.scrollTop = chatDisplay.scrollHeight;

            // Call Gemini API
            try {
                const systemPrompt = "You are Rebel Guide, the enthusiastic AI assistant for the Rebel Reality AR navigation app at UNLV. Your goal is to help students navigate the campus (especially Advanced Engineering Building (AEB) or Thomas Beam Engineering Complex (TBE)). You can route people to locations on campus outside of these places as well. Do not provide guidance for routes you do not know how to navigate (do not make up routes). Try to give steps to get to the route in addition to a suggestion to use the rebel reality ar navigation mode to navigate, especially for AEB and TBE locaitons. Keep answers concise (under 45 words) and friendly. Do not use emojis.";
                
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{ text: userText }]
                        }],
                        systemInstruction: {
                            parts: [{ text: systemPrompt }]
                        }
                    })
                });

                const data = await response.json();
                const aiText = data.candidates?.[0]?.content?.parts?.[0]?.text || "Sorry, I couldn't connect to the Rebel Reality servers. Please try again later.";
                
                // Remove loading
                document.getElementById('loading-indicator').remove();

                // Add AI Response
                const aiDiv = document.createElement('div');
                aiDiv.className = 'flex items-start fade-in-up';
                aiDiv.innerHTML = `
                    <div class="w-8 h-8 rounded-full bg-gradient-to-tr from-blue-500 to-purple-500 flex-shrink-0 flex items-center justify-center text-xs mt-1">
                        <i class="fa-solid fa-robot"></i>
                    </div>
                    <div class="ml-3 bg-gray-700 p-3 rounded-r-xl rounded-bl-xl text-sm text-gray-200 shadow-sm max-w-[80%] prose prose-invert prose-sm">
                        ${marked.parse(aiText)}
                    </div>
                `;
                chatDisplay.appendChild(aiDiv);

            } catch (error) {
                console.error("Gemini API Error:", error);
                document.getElementById('loading-indicator').remove();
                const errorDiv = document.createElement('div');
                errorDiv.className = 'flex items-start';
                errorDiv.innerHTML = `
                    <div class="w-8 h-8 rounded-full bg-red-600 flex-shrink-0 flex items-center justify-center text-xs mt-1 text-white">
                        !
                    </div>
                    <div class="ml-3 bg-gray-700 p-3 rounded-r-xl rounded-bl-xl text-sm text-red-300 shadow-sm max-w-[80%]">
                        Connection error. Please check your internet or try again later.
                    </div>
                `;
                chatDisplay.appendChild(errorDiv);
            }
            
            chatDisplay.scrollTop = chatDisplay.scrollHeight;
        }
    </script>
</body>
</html>